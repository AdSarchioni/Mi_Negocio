@model Mi_Negocio.Models.Usuario

@{
    ViewData["Title"] = "Editar Usuario";
}

<h1>@ViewData["Title"]</h1>

<form   method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" class="form-control" id="apellido" name="apellido" value="@Model.apellido" />
        @Html.ValidationMessageFor(model => model.apellido, "", new { @class = "text-danger" })   
    </div>
<div>
    <input asp-for="id_usuario" type="hidden" />

</div>
    <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control" id="nombre" name="nombre" value="@Model.nombre" />
        @Html.ValidationMessageFor(model => model.nombre, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label for="dni">DNI</label>
        <input type="text" class="form-control" id="dni" name="dni" value="@Model.dni" />
        @Html.ValidationMessageFor(model => model.dni, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label for="telefono">Tel√©fono</label>
        <input type="text" class="form-control" id="telefono" name="telefono" value="@Model.telefono" />
        @Html.ValidationMessageFor(model => model.telefono, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" name="email" value="@Model.email" />
        @Html.ValidationMessageFor(model => model.email, "", new { @class = "text-danger" })
    </div>

   

    <div class="form-group">
        <label for="avatarFile">Avatar</label>
        <input type="file" class="form-control" id="avatarFile" name="avatarFile" />
        @Html.ValidationMessageFor(model => model.avatarFile, "", new { @class = "text-danger" })
    </div>
 <div class="form-group">
        <label>Avatar Actual</label><br />
        @if (!string.IsNullOrEmpty(Model.avatar))
        {
            <img src="@Url.Content($"~{Model.avatar}")" alt="avatar actual" width="150" class="mb-3" /><br />
            <input type="hidden" asp-for="avatar" />
        }
        else
        {
            <span>Sin avatar</span>
        }
    </div>
    <div class="form-group">
        <label for="rol">Rol</label>
        <select class="form-control" id="rol" name="rol">
            @foreach (var rol in Mi_Negocio.Models.Usuario.ObtenerRoles())
            {
             <option value="@rol.Key" selected="@((rol.Key == Model.rol) ? "selected" : "")">@rol.Value</option>
            }
        </select>
        @Html.ValidationMessageFor(model => model.rol, "", new { @class = "text-danger" })
    </div>

                 <div class="form-group">
                    <label asp-for="estado_usuario" class="control-label">Estado</label>
                    <select asp-for="estado_usuario" class="form-control">
                        <option value="1">Activo</option>
                        <option value="0">Inactivo</option>
                    </select>
                    <span asp-validation-for="estado_usuario" class="text-danger"></span>
                </div>

    <button type="submit" class="btn btn-primary">Guardar</button>
</form>

<a href="@Url.Action("Index")" class="btn btn-secondary">Volver</a>
